flowchart TB
    subgraph Before["BEFORE"]
        A1[User<br/>Question] --> B1[Claude<br/>Response]
        B1 --> C1[No<br/>Memory]
        C1 --> D1[Manual<br/>Search]
        D1 --> E1[Grep<br/>Logs]
        E1 --> F1[10K+<br/>Results]
        F1 --> G1[Start<br/>Over]
    end
    
    Before -.->|" "| After
    
    subgraph After["AFTER"]
        A2[User<br/>Question] --> B2[Claude<br/>Main]
        B2 --> C2[Reflection<br/>Agent]
        C2 --> D2[MCP<br/>Server]
        D2 --> E2[Qdrant<br/>Search]
        E2 --> F2[Memory<br/>Decay]
        F2 --> G2[Relevant<br/>Results]
        G2 --> H2[Back to<br/>Main Context]
    end
    
    classDef userStyle fill:#FFD700,stroke:#1e3a5f,stroke-width:3px,color:#1e3a5f
    classDef claudeStyle fill:#D2691E,stroke:#1e3a5f,stroke-width:3px,color:#fff
    classDef agentStyle fill:#8B4513,stroke:#1e3a5f,stroke-width:3px,color:#fff
    classDef problemStyle fill:#1e3a5f,stroke:#FFD700,stroke-width:3px,color:#FFD700
    classDef techStyle fill:#1e3a5f,stroke:#FFD700,stroke-width:3px,color:#FFD700
    classDef successStyle fill:#FFD700,stroke:#1e3a5f,stroke-width:3px,color:#1e3a5f
    
    class A1,A2 userStyle
    class B1,B2 claudeStyle
    class C2 agentStyle
    class C1,D1,E1,F1,G1 problemStyle
    class D2,E2,F2,G2 techStyle
    class H2 successStyle
    
    style Before fill:#2c2c2c,stroke:#FFD700,stroke-width:3px
    style After fill:#2c2c2c,stroke:#FFD700,stroke-width:3px